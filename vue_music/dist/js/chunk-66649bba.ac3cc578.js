(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66649bba"],{"2e64":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("scroll",{ref:"scroll",staticClass:"scroll"},[a("div",{staticClass:"dance-music-album-detail"},[a("base-info",{attrs:{"base-info":t.album,"album-detail":t.albumDetail,cover:t.getAlbumCover},on:{playMusic:t.playMusic}}),a("song-list",{ref:"songList",attrs:{"music-list":t.musicList},on:{refresh:t.handleRefresh}})],1)])},i=[],n=(e("becb"),e("6a93")),r=e("a3ee"),u=e("1bab");function l(t){return Object(u["a"])({url:"/album/detail/dynamic",params:{id:t}})}var o=e("8b7f"),c=e("5d17"),b=function(){var t=this,a=t._self._c;return Object.keys(t.baseInfo).length?a("div",{staticClass:"base-info"},[a("div",{staticClass:"left"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.cover,expression:"cover"}],attrs:{alt:""}})]),a("div",{staticClass:"right"},[a("h3",[a("b-tag",{attrs:{color:"var(--main-color)",plain:""}},[t._v("专辑")]),t._v(" "+t._s(t.baseInfo.name)+" ")],1),a("div",{staticClass:"right-item"},[a("b-button",{staticClass:"button",style:{border:"none"},attrs:{background:"var(--main-color)",color:"#fff",round:""},on:{click:t.handlePlayMusic}},[a("i",{staticClass:"iconfont icon-bofang"}),t._v("播放全部 ")]),a("b-button",{staticClass:"button",attrs:{round:""}},[a("i",{staticClass:"iconfont icon-shoucang"}),t._v(" 收藏("+t._s(t.albumDetail.subCount)+") ")]),a("b-button",{staticClass:"button",attrs:{round:""}},[a("i",{staticClass:"iconfont icon-fenxiang"}),t._v(" 分享("+t._s(t.albumDetail.shareCount)+") ")])],1),a("div",{staticClass:"right-item"},[a("span",[t._v("歌手："+t._s(t.baseInfo.artist.name))])]),a("div",{staticClass:"right-item"},[a("span",[t._v("时间："+t._s(t.getCreateDate))])])])]):t._e()},d=[],m=e("3de1"),f={name:"BaseInfo",props:{baseInfo:{type:Object,default:()=>({})},albumDetail:{type:Object,default:()=>({})},cover:{type:String,default:""}},computed:{getCreateDate(){return Object(m["a"])(new Date(this.baseInfo.publishTime),"yyyy-MM-dd")},getTags(){return this.baseInfo.tags&&this.baseInfo.tags.join("/")},getPlayCount(){return this.baseInfo.playCount&&this.baseInfo.playCount.toString().slice(0,2)+"万"}},methods:{handlePlayMusic(){this.$emit("playMusic")}}},h=f,g=(e("8894"),e("1805")),p=Object(g["a"])(h,b,d,!1,null,"6988da47",null),v=p.exports,C=e("d8db"),y={name:"AlbumDetail",mixins:[o["a"]],components:{Scroll:c["a"],BaseInfo:v,SongList:C["a"]},data(){return{album:{},albumDetail:{},musicList:[]}},computed:{getAlbumCover(){if(this.musicList[0]&&this.musicList[0].pic)return this.musicList[0].pic}},created(){this.album=this.$route.query.album,this.getAlbumDetail(),this.getAlbumSongs()},methods:{handleRefresh(){this.$refs.scroll.refresh()},getAlbumDetail(){l(this.album.id).then(t=>{this.albumDetail=t.data})},getAlbumSongs(){Object(r["a"])(this.album.id).then(t=>{let a=t.data.songs;for(let e in a)Object(n["e"])(a[e].id).then(t=>{let s=new n["j"](t.data.songs);this.musicList.push(s),e==a.length-1&&this.$nextTick(()=>{this.handleRefresh()})})})}},watch:{$route:{handler(){this.$route.path.indexOf("album-detail")>0&&(this.album=this.$route.query.album,this.getAlbumDetail(),this.getAlbumSongs())},immediate:!0}}},j=y,O=(e("7ae1"),Object(g["a"])(j,s,i,!1,null,"3e96280e",null));a["default"]=O.exports},6764:function(t,a,e){},"7ae1":function(t,a,e){"use strict";e("6764")},8894:function(t,a,e){"use strict";e("8af1")},"8af1":function(t,a,e){},a3ee:function(t,a,e){"use strict";e.d(a,"c",(function(){return i})),e.d(a,"e",(function(){return n})),e.d(a,"b",(function(){return r})),e.d(a,"a",(function(){return u})),e.d(a,"d",(function(){return l})),e.d(a,"g",(function(){return o})),e.d(a,"f",(function(){return c}));var s=e("1bab");function i(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function n(t){return Object(s["a"])({url:"/artist/top/song",params:{id:t}})}function r(t){return Object(s["a"])({url:"/artist/album",params:{id:t}})}function u(t){return Object(s["a"])({url:"/album",params:{id:t}})}function l(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function o(t,a){return Object(s["a"])({url:"/simi/artist",params:{cookie:t,id:a}})}function c(t){return Object(s["a"])({url:"/artist/mv",params:{id:t}})}}}]);
//# sourceMappingURL=chunk-66649bba.ac3cc578.js.map