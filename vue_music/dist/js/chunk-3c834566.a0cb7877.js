(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c834566"],{"0726":function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dance-music-mvs"},t._l(t.mvList,(function(i,s){return e("div",{key:s,staticClass:"dance-music-mvs-item",style:t.itemStyle,on:{mouseenter:function(e){return t.handleEnter(s)},mouseleave:t.handleLeave,click:function(e){return t.enterMvDetail(i)}}},[e("div",{staticClass:"dance-music-mvs-item-container"},[e("div",{staticClass:"dance-music-mvs-item-top"},[e("i",{staticClass:"iconfont icon-shipin"}),i.count||i.playCount?e("span",[t._v(t._s((i.count||i.playCount).toString().slice(0,2)+"万"))]):t._e()]),e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.cover,expression:"item.cover"}],attrs:{alt:""},on:{load:t.handleLoad}}),e("transition",{attrs:{name:"playlist-opacity"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex==s,expression:"currentIndex == index"}],staticClass:"dance-music-mvs-item-play"},[e("i",{staticClass:"iconfont icon-icon_play"})])])],1),e("div",{staticClass:"dance-music-mvs-item-desc"},[e("p",[t._v(t._s(i.name))]),t.showArtist?e("span",[t._v(t._s(i.artist))]):t._e()])])})),0)},a=[],n=(i("becb"),i("ca40")),r={name:"MvList",mixins:[n["a"]],props:{mvList:{type:Array,default:()=>[]},lineNum:{type:Number,default:4},showArtist:{type:Boolean,default:!0}},computed:{itemStyle(){return{width:`calc(100% / ${this.lineNum})`}}},data(){return{currentIndex:null}},methods:{handleEnter(t){this.currentIndex=t},handleLeave(t){this.currentIndex=null},handleLoad(){this.imgCount==this.mvList.length&&this.$emit("refresh"),this.imgCount++},enterMvDetail(t){this.$router.push("/mv-detail/"+t.id)}},watch:{mvList(){this.imgCount=1}}},u=r,c=(i("3dc3"),i("1805")),l=Object(c["a"])(u,s,a,!1,null,"61cad91a",null);e["a"]=l.exports},"365d":function(t,e,i){"use strict";i("f6b5")},"3dc3":function(t,e,i){"use strict";i("629f")},"40f3":function(t,e,i){"use strict";i("926b")},"49d4":function(t,e,i){"use strict";i("b327")},"629f":function(t,e,i){},"642f":function(t,e,i){"use strict";i.d(e,"g",(function(){return a})),i.d(e,"a",(function(){return n})),i.d(e,"f",(function(){return r})),i.d(e,"e",(function(){return u})),i.d(e,"d",(function(){return c})),i.d(e,"h",(function(){return l})),i.d(e,"i",(function(){return o})),i.d(e,"b",(function(){return d})),i.d(e,"c",(function(){return h}));var s=i("1bab");function a(t,e){return Object(s["a"])({url:"/mv/first",params:{limit:t,area:e}})}class n{constructor(t,e,i,s,a,n){this.id=t,this.cover=e,this.name=i,this.artist=s,this.count=a,this.duration=n}}function r(t){return Object(s["a"])({url:"/mv/detail",params:{mvid:t}})}function u(t){return Object(s["a"])({url:"/mv/url",params:{id:t}})}function c(t,e,i=1){return Object(s["a"])({url:"/comment/mv",params:{id:t,limit:e,offset:i}})}function l(t){return Object(s["a"])({url:"/simi/mv",params:{mvid:t}})}function o(t=10,e,i){return Object(s["a"])({url:"/top/mv",params:{limit:t,area:e,offset:i}})}function d(t="全部",e="全部",i="最新",a,n=1){return Object(s["a"])({url:"/mv/all",params:{area:t,type:e,order:i,limit:a,offset:n}})}function h(){return Object(s["a"])({url:"/personalized/mv"})}},6799:function(t,e,i){},"926b":function(t,e,i){},"95e8":function(t,e,i){},a06c:function(t,e,i){},a3ee:function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"e",(function(){return n})),i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return u})),i.d(e,"d",(function(){return c})),i.d(e,"g",(function(){return l})),i.d(e,"f",(function(){return o}));var s=i("1bab");function a(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function n(t){return Object(s["a"])({url:"/artist/top/song",params:{id:t}})}function r(t){return Object(s["a"])({url:"/artist/album",params:{id:t}})}function u(t){return Object(s["a"])({url:"/album",params:{id:t}})}function c(t){return Object(s["a"])({url:"/artist/desc",params:{id:t}})}function l(t,e){return Object(s["a"])({url:"/simi/artist",params:{cookie:t,id:e}})}function o(t){return Object(s["a"])({url:"/artist/mv",params:{id:t}})}},a621:function(t,e,i){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dance-music-artist-list"},t._l(t.artistList,(function(i,s){return e("div",{key:s,staticClass:"dance-music-artist-list-item",on:{mouseenter:function(e){return t.handleEnter(s)},mouseleave:t.handleLeave,click:function(e){return t.enterArtistDetail(i)}}},[e("div",{staticClass:"dance-music-artist-list-item-container"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.picUrl||i.coverImgUrl,expression:"item.picUrl || item.coverImgUrl"}],attrs:{alt:""},on:{load:t.handleRefresh}}),e("transition",{attrs:{name:"dance-music-opacity"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex==s,expression:"currentIndex==index"}],staticClass:"container-detail"},[e("i",{staticClass:"iconfont icon-homeicondetails",class:["icon-"+t.theme]})])])],1),e("div",{staticClass:"dance-music-artist-list-item-desc"},[t._v(t._s(i.name))])])})),0)},a=[],n=(i("becb"),i("ca40")),r={name:"ArtistList",mixins:[n["a"]],props:{artistList:{type:Array,default(){return[]}}},computed:{theme(){return this.$store.getters.getTheme}},data(){return{currentIndex:null}},methods:{handleEnter(t){this.currentIndex=t},handleLeave(t){this.currentIndex=null},handleRefresh(){this.imgCount==this.artistList.length&&this.$emit("refresh"),this.imgCount++},enterArtistDetail(t){this.$router.push({path:"/artist-detail",query:{artist:t}})}},watch:{musicList(){this.imgCount=1}}},u=r,c=(i("b33d"),i("1805")),l=Object(c["a"])(u,s,a,!1,null,"06f035fa",null);e["a"]=l.exports},a859:function(t,e,i){"use strict";i("6799")},addb:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{class:[""+(t.program+"artist-detail")]},[e("artist-baseinfo",{attrs:{artist:t.getArtist,"mv-count":t.getMvCount}}),e("b-menu",{class:[""+(t.program+"artist-detail-menu")],attrs:{menu:t.list,"active-color":t.getActiveColor},on:{click:t.handleMenuClick}}),e("album-list",{directives:[{name:"show",rawName:"v-show",value:"album"===t.isShow,expression:"isShow === 'album'"}],attrs:{id:t.getArtistId},on:{enter:t.handleEnter,leave:t.handleLeave}}),e("artist-mvs",{directives:[{name:"show",rawName:"v-show",value:"MV"===t.isShow,expression:"isShow === 'MV'"}],attrs:{"show-artist":!1,"line-num":6,"mv-list":t.mvList}}),e("artist-desc-detail",{directives:[{name:"show",rawName:"v-show",value:"desc"===t.isShow,expression:"isShow === 'desc'"}],attrs:{id:t.getArtistId,name:t.artist.name}}),e("artist-simi",{directives:[{name:"show",rawName:"v-show",value:"simi"===t.isShow,expression:"isShow === 'simi'"}],attrs:{id:t.getArtistId}})],1)},a=[],n=(i("becb"),i("3de1")),r=i("3ce8"),u=i("a3ee"),c=i("642f"),l=function(){var t=this,e=t._self._c;return Object.keys(t.artist).length?e("div",{staticClass:"artist-base-info"},[e("div",{staticClass:"left"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.artist.picUrl,expression:"artist.picUrl"}],attrs:{alt:""}})]),e("div",{staticClass:"right"},[e("h3",[e("b-tag",{attrs:{color:"var(--main-color)",plain:""}},[t._v("歌手")]),t._v(" "+t._s(t.artist.name)+" ")],1),e("div",{staticClass:"desc"},[e("p",[e("span",[t._v("单曲数：")]),t._v(t._s(t.artist.musicSize))]),e("p",[e("span",[t._v("专辑数：")]),t._v(t._s(t.artist.albumSize))]),e("p",[e("span",[t._v("MV数：")]),t._v(t._s(t.mvCount))]),e("p",{staticClass:"desc-title"},[e("span",[t._v("简介：")]),t._v(t._s(t.desc))])])])]):t._e()},o=[],d={name:"ArtistBaseinfo",props:{artist:{type:Object,default:{}},mvCount:{type:Number,default:0}},data(){return{desc:""}},methods:{},watch:{artist:{handler(){Object(u["c"])(this.artist.id).then(t=>{this.desc=t.data.briefDesc})},immediate:!0}}},h=d,m=(i("a859"),i("1805")),f=Object(m["a"])(h,l,o,!1,null,"cf9e5e5a",null),v=f.exports,p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"album-list"},[e("artist-hot50",{attrs:{id:t.id},on:{refresh:t.handleRefresh},nativeOn:{mouseenter:function(e){return t.handleEnter.apply(null,arguments)},mouseleave:function(e){return t.handleLeave.apply(null,arguments)}}}),t._l(t.hotAlbums,(function(i,s){return e("album-detail",{key:s,attrs:{album:i},on:{refresh:function(e){return t.handleAlbumsRefresh(s)}}})}))],2)},b=[],g=function(){var t=this,e=t._self._c;return e("scroll",{ref:"scroll",staticClass:"scroll"},[e("div",{staticClass:"artist-hot50",on:{mouseenter:t.handleRefresh}},[e("div",{staticClass:"artist-hot50-left"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.getPic,expression:"getPic"}],attrs:{alt:""}})]),e("div",{staticClass:"artist-hot50-right"},[e("p",[t._v("热门50首")]),e("song-list",{attrs:{"music-list":t.musicList,lines:t.lines,"show-head":!1}})],1)])])},w=[],_=i("6a93"),C=i("214e"),y=i("d8db"),x=i("5d17"),j={name:"ArtistHot50",mixins:[C["a"]],components:{SongList:y["a"],Scroll:x["a"]},props:{id:{type:[Number,String],default:0}},data(){return{musicList:[],lines:[!0,!0,!0,!1,!1,!0]}},created(){this.initRequest()},computed:{getPic(){if(this.musicList.length)return this.musicList[0].pic}},methods:{initRequest(){Object(u["e"])(this.id).then(t=>{let e=t.data.songs;for(let i in e)Object(_["e"])(e[i].id).then(t=>{let s=new _["j"](t.data.songs);this.musicList.push(s),i==e.length-1&&(this.$emit("refresh"),this.$nextTick(()=>{this.$refs.scroll.refresh()}))})})},reset(){this.musicList=[]}},watch:{id(){this.reset(),this.initRequest()}}},L=j,O=(i("d00c"),Object(m["a"])(L,g,w,!1,null,"3f147d3d",null)),A=O.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"artist-album-detail"},[e("div",{staticClass:"artist-album-detail-left"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.album.picUrl,expression:"album.picUrl"}]})]),e("div",{staticClass:"artist-album-detail-right"},[e("p",[t._v(t._s(t.album.name))]),e("song-list",{attrs:{"music-list":t.musicList,lines:t.lines,"show-head":!1}})],1)])},R=[],k={name:"AlbumDetail",components:{SongList:y["a"]},props:{album:{type:Object,default(){return{}}}},data(){return{musicList:[],lines:[!0,!0,!0,!1,!1,!0]}},created(){Object.keys(this.album).length&&this.initRequest()},methods:{initRequest(){Object(u["a"])(this.album.id).then(t=>{let e=t.data.songs;for(let i in e)Object(_["e"])(e[i].id).then(t=>{let s=new _["j"](t.data.songs);this.musicList.push(s),i==e.length-1&&this.$emit("refresh")})})},reset(){this.musicList=[]}},watch:{album(){this.reset(),this.initRequest()}}},$=k,q=(i("49d4"),Object(m["a"])($,S,R,!1,null,"9608a2b6",null)),N=q.exports,D={name:"AlbumList",components:{ArtistHot50:A,AlbumDetail:N},props:{id:{type:[Number,String],default:0}},data(){return{hotAlbums:[]}},created(){this.initRequest()},methods:{handleEnter(){this.$emit("enter")},handleLeave(){this.$emit("leave")},handleRefresh(){this.$emit("refresh")},handleAlbumsRefresh(t){t==this.hotAlbums.length-1&&this.$emit("refresh")},initRequest(){Object(u["b"])(this.id).then(t=>{this.hotAlbums=t.data.hotAlbums})},reset(){this.hotAlbums=[]}},watch:{id(){this.reset(),this.initRequest()}}},I=D,M=(i("365d"),Object(m["a"])(I,p,b,!1,null,"5caf22fe",null)),z=M.exports,E=i("0726"),U=function(){var t=this,e=t._self._c;return null!=t.descDetail?e("div",{staticClass:"artist-desc-detail"},[e("div",{staticClass:"desc"},[e("h4",{class:["h4",""+("h4-"+t.theme)]},[t._v(t._s(t.name)+"简介")]),e("p",{class:["p",""+("p-"+t.theme)]},[t._v(t._s(t.descDetail.briefDesc))])]),e("div",{staticClass:"content"},t._l(t.descDetail.introduction,(function(i,s){return e("div",{key:s,staticClass:"intro-item"},[e("h4",{class:["h4",""+("h4-"+t.theme)]},[t._v(t._s(i.ti))]),e("div",t._l(t.formatText(i.txt),(function(i,s){return e("p",{key:s,class:["p",""+("p-"+t.theme)]},[t._v(" "+t._s(i)+" ")])})),0)])})),0)]):t._e()},T=[],V={name:"ArtistDescDetail",mixins:[r["a"]],props:{id:{type:[Number,String],default:0},name:{type:String,default:""}},data(){return{descDetail:null}},created(){0!=this.id&&this.initRequest()},methods:{formatText(t){let e=t.split("\n");return e},initRequest(){Object(u["d"])(this.id).then(t=>{this.descDetail=t.data})}},watch:{id(){this.initRequest()}}},W=V,B=(i("ec3e"),Object(m["a"])(W,U,T,!1,null,"6ee29a6a",null)),P=B.exports,H=function(){var t=this,e=t._self._c;return e("div",{staticClass:"simi"},[e("artist-list",{attrs:{"artist-list":t.artists},on:{refresh:t.handleRefresh}})],1)},J=[],F=i("a621"),G={name:"ArtistSimi",data(){return{artists:[]}},props:{id:{type:[Number,String],default:0}},components:{ArtistList:F["a"]},computed:{getCookie(){return this.$store.getters.getCookie}},methods:{initRequest(){Object(u["g"])(this.getCookie,this.id).then(t=>{this.artists=t.data.artists})},handleRefresh(){this.$emit("refresh")}},created(){0!=this.id&&(this.getCookie?this.initRequest():this.$Toast.warning("请先登陆"))},watch:{id(){this.getCookie?this.initRequest():this.$Toast.warning("请先登陆")}}},K=G,Q=Object(m["a"])(K,H,J,!1,null,"2cd2fe84",null),X=Q.exports,Y={name:"ArtistDetail",mixins:[r["a"]],components:{ArtistBaseinfo:v,AlbumList:z,ArtistMvs:E["a"],ArtistDescDetail:P,ArtistSimi:X},data(){return{artist:null,list:["专辑","MV","歌手详情","相似歌手"],isWheel:!1,isShow:"album",mvList:[]}},created(){this.artist=this.$route.query.artist,this.initRequest()},computed:{getArtist(){return this.artist},getArtistId(){if(this.artist.id)return this.artist.id},getIsWheel(){return this.isWheel},getMvCount(){return this.mvList.length}},methods:{handleMenuClick(t){switch(t){case 0:this.isShow="album";break;case 1:this.isShow="MV";break;case 2:this.isShow="desc";break;case 3:this.isShow="simi"}},handleEnter(){this.isWheel=!0},handleLeave(){this.isWheel=!1},reset(){this.mvList=[],this.isShow="album"},initRequest(){Object(u["f"])(this.artist.id).then(t=>{let e=t.data.mvs;for(let i in e){let t=new c["a"](e[i].id,e[i].imgurl,e[i].name,e[i].artistName,e[i].playCount,Object(n["a"])(new Date(e[i].duration),"MM:dd"));this.mvList.push(t)}})}},watch:{$route(){this.$route.path.indexOf("artist-detail")>0&&(this.artist=this.$route.query.artist,this.reset(),this.initRequest())}}},Z=Y,tt=(i("40f3"),Object(m["a"])(Z,s,a,!1,null,"09203fe2",null));e["default"]=tt.exports},b327:function(t,e,i){},b33d:function(t,e,i){"use strict";i("f623")},d00c:function(t,e,i){"use strict";i("a06c")},ec3e:function(t,e,i){"use strict";i("95e8")},f623:function(t,e,i){},f6b5:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3c834566.a0cb7877.js.map