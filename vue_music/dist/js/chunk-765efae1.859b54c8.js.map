{"version":3,"sources":["webpack:///./src/views/list-detail/MusicListDetail.vue","webpack:///./src/views/list-detail/childsComps/baseInfo.vue","webpack:///src/views/list-detail/childsComps/baseInfo.vue","webpack:///./src/views/list-detail/childsComps/baseInfo.vue?8db5","webpack:///./src/views/list-detail/childsComps/baseInfo.vue?d78d","webpack:///./src/views/list-detail/childsComps/MusicListLive.vue","webpack:///src/views/list-detail/childsComps/MusicListLive.vue","webpack:///./src/views/list-detail/childsComps/MusicListLive.vue?ed27","webpack:///./src/views/list-detail/childsComps/MusicListLive.vue?a2e6","webpack:///src/views/list-detail/MusicListDetail.vue","webpack:///./src/views/list-detail/MusicListDetail.vue?4c52","webpack:///./src/views/list-detail/MusicListDetail.vue?3385","webpack:///./src/views/list-detail/childsComps/baseInfo.vue?4bc8","webpack:///./src/views/list-detail/MusicListDetail.vue?3ee4","webpack:///./src/views/list-detail/childsComps/MusicListLive.vue?fe02"],"names":["render","_vm","this","_c","_self","class","detailClass","attrs","baseInfo","on","playMusic","list","getActiveColor","handleMenuClick","program","directives","name","rawName","value","isShow","expression","ref","musicList","length","staticClass","recommends","id","offset","limit","$event","onPageChange","subs","staticRenderFns","Object","keys","img","_v","_s","creatorAvatar","creatorName","getCreateDate","style","border","handlePlayMusic","subscribedCount","shareCount","getTags","title","trackCount","getPlayCount","_e","props","type","default","computed","formatDate","Date","createTime","tags","join","playCount","toString","slice","methods","$emit","component","_l","item","index","key","avatarUrl","handleImgLoad","nickname","mixins","imgLoadMixin","Array","imgCount","theme","components","BaseInfo","SongList","Recommends","MusicListLive","data","recommendsCount","created","getDetailRequestDate","getRecommends","$nextTick","posY","$refs","recommend","$el","offsetTop","scroll","scrollTo","handleRefresh","init","$route","params","res","_getMusicListDetail","playlist","commentCount","str","trackIds","i","_getSongsDetail","then","song","songDetail","songs","push","_getSub","subscribers","_getRecommends","comments","watch","path","indexOf"],"mappings":"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","file":"js/chunk-765efae1.859b54c8.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.detailClass},[_c('base-info',{attrs:{\"base-info\":_vm.baseInfo},on:{\"playMusic\":_vm.playMusic}}),_c('b-menu',{attrs:{\"menu\":_vm.list,\"active-color\":_vm.getActiveColor},on:{\"click\":_vm.handleMenuClick}}),_c('div',{class:_vm.program + 'detail-container'},[_c('song-list',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow == 'music'),expression:\"isShow == 'music'\"}],ref:\"songList\",attrs:{\"music-list\":_vm.musicList,\"length\":_vm.length}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow == 'recommend'),expression:\"isShow == 'recommend'\"}],staticClass:\"detail-container-recommend\"},[_c('recommends',{ref:\"recommend\",attrs:{\"recommends\":_vm.recommends,\"id\":_vm.id}}),_c('div',{staticClass:\"recommend-bottom\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.offset,\"page-size\":_vm.limit,\"page-count\":50},on:{\"update:currentPage\":function($event){_vm.offset=$event},\"update:current-page\":function($event){_vm.offset=$event},\"update:pageSize\":function($event){_vm.limit=$event},\"update:page-size\":function($event){_vm.limit=$event},\"current-change\":_vm.onPageChange}})],1)],1),_c('music-list-live',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow == 'sub'),expression:\"isShow == 'sub'\"}],attrs:{\"subs\":_vm.subs}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (Object.keys(_vm.baseInfo).length)?_c('div',{staticClass:\"base-info\"},[_c('div',{staticClass:\"left\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.baseInfo.img),expression:\"baseInfo.img\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"right\"},[_c('h3',[_c('b-tag',{attrs:{\"color\":\"var(--main-color)\",\"plain\":\"\"}},[_vm._v(\"歌单\")]),_vm._v(\" \"+_vm._s(_vm.baseInfo.name)+\" \")],1),_c('div',{staticClass:\"right-item\"},[_c('b-avatar',{attrs:{\"src\":_vm.baseInfo.creatorAvatar,\"size\":\"30px\"}}),_c('span',{staticClass:\"creator-name\"},[_vm._v(_vm._s(_vm.baseInfo.creatorName))]),_c('span',[_vm._v(\"创建时间：\"+_vm._s(_vm.getCreateDate))])],1),_c('div',{staticClass:\"right-item\"},[_c('b-button',{staticClass:\"button\",style:({border:`none`}),attrs:{\"background\":\"var(--main-color)\",\"color\":\"#fff\",\"round\":\"\"},on:{\"click\":_vm.handlePlayMusic}},[_c('i',{staticClass:\"iconfont icon-bofang\"}),_vm._v(\"播放全部 \")]),_c('b-button',{staticClass:\"button\",attrs:{\"round\":\"\"}},[_c('i',{staticClass:\"iconfont icon-shoucang\"}),_vm._v(\" 收藏(\"+_vm._s(_vm.baseInfo.subscribedCount)+\") \")]),_c('b-button',{staticClass:\"button\",attrs:{\"round\":\"\"}},[_c('i',{staticClass:\"iconfont icon-fenxiang\"}),_vm._v(\" 分享(\"+_vm._s(_vm.baseInfo.shareCount)+\") \")])],1),_c('div',{staticClass:\"desc\"},[_c('p',[_vm._v(\" 标签： \"),_c('span',[_vm._v(_vm._s(_vm.getTags))])]),_c('p',{staticClass:\"desc-title\"},[_vm._v(\"简介：\"+_vm._s(_vm.baseInfo.title)+\"}}\")])])]),_c('div',{staticClass:\"play\"},[_c('div',{staticClass:\"play-left\"},[_vm._v(\" 歌曲数 \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.baseInfo.trackCount)+\" \")]),_c('div',{staticClass:\"play-right\"},[_vm._v(\" 播放数 \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.getPlayCount)+\" \")])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"base-info\" v-if=\"Object.keys(baseInfo).length\">\n    <div class=\"left\">\n      <img v-lazy=\"baseInfo.img\" alt />\n    </div>\n    <div class=\"right\">\n      <h3>\n        <b-tag color=\"var(--main-color)\" plain>歌单</b-tag>\n        {{baseInfo.name}}\n      </h3>\n      <div class=\"right-item\">\n        <b-avatar :src=\"baseInfo.creatorAvatar\" size=\"30px\"></b-avatar>\n        <span class=\"creator-name\">{{baseInfo.creatorName}}</span>\n        <span>创建时间：{{getCreateDate}}</span>\n      </div>\n      <div class=\"right-item\">\n        <b-button\n          background=\"var(--main-color)\"\n          color=\"#fff\"\n          :style=\"{border:`none`}\"\n          round\n          class=\"button\"\n          @click=\"handlePlayMusic\"\n        >\n          <i class=\"iconfont icon-bofang\" />播放全部\n        </b-button>\n        <b-button round class=\"button\">\n          <i class=\"iconfont icon-shoucang\" />\n          收藏({{baseInfo.subscribedCount}})\n        </b-button>\n        <b-button round class=\"button\">\n          <i class=\"iconfont icon-fenxiang\" />\n          分享({{baseInfo.shareCount}})\n        </b-button>\n      </div>\n      <div class=\"desc\">\n        <p>\n          标签：\n          <span>{{getTags}}</span>\n        </p>\n        <p class=\"desc-title\">简介：{{baseInfo.title}}}}</p>\n      </div>\n    </div>\n    <div class=\"play\">\n      <div class=\"play-left\">\n        歌曲数\n        <br />\n        {{baseInfo.trackCount}}\n      </div>\n      <div class=\"play-right\">\n        播放数\n        <br />\n        {{getPlayCount}}\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { formatDate } from \"utils/tool.js\";\nexport default {\n  name: \"BaseInfo\",\n  props: {\n    baseInfo: {\n      type: Object,\n      default: {},\n    },\n  },\n  computed: {\n    getCreateDate() {\n      return formatDate(new Date(this.baseInfo.createTime), \"yyyy-MM-dd\");\n    },\n    getTags() {\n      return this.baseInfo.tags && this.baseInfo.tags.join(\"/\");\n    },\n    getPlayCount() {\n      return (\n        this.baseInfo.playCount &&\n        this.baseInfo.playCount.toString().slice(0, 2) + \"万\"\n      );\n    },\n  },\n  methods:{\n    handlePlayMusic(){\n      this.$emit('playMusic');\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.base-info {\n  width: 100%;\n  padding: 10px 0px;\n  display: flex;\n  position: relative;\n  .left {\n    width: 200px;\n    img {\n      width: 100%;\n    }\n  }\n  .right {\n    flex: 1;\n    padding-left: 35px;\n    h3 {\n      padding: 5px 0px;\n    }\n    &-item {\n      padding: 5px 0px;\n      display: flex;\n      align-items: center;\n      font-size: 14px;\n      .creator-name {\n        margin: 0px 10px;\n      }\n      .iconfont {\n        margin-right: 8px;\n      }\n      .button {\n        margin-right: 15px;\n      }\n    }\n  }\n}\n.desc {\n  padding: 10px 0px;\n  font-size: 13px;\n  span {\n    color: var(--tag-color);\n  }\n  &-title {\n    padding-top: 5px;\n    display: -webkit-box;\n    overflow: hidden;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n  }\n}\n.play {\n  display: flex;\n  align-items: center;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  font-size: 13px;\n  &-left {\n    padding: 5px;\n    border-right: 1px solid var(--border);\n  }\n  &-right {\n    padding: 5px;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./baseInfo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./baseInfo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./baseInfo.vue?vue&type=template&id=bd0e3784&scoped=true\"\nimport script from \"./baseInfo.vue?vue&type=script&lang=js\"\nexport * from \"./baseInfo.vue?vue&type=script&lang=js\"\nimport style0 from \"./baseInfo.vue?vue&type=style&index=0&id=bd0e3784&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bd0e3784\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.subs != null)?_c('div',{staticClass:\"live\"},[_c('div',{staticClass:\"content\"},_vm._l((_vm.subs),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{attrs:{\"src\":item.avatarUrl,\"alt\":\"\"},on:{\"load\":_vm.handleImgLoad}}),_c('div',{staticClass:\"nickname\"},[_vm._v(_vm._s(item.nickname))])])}),0)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"live\" v-if=\"subs != null\">\n    <div class=\"content\">\n      <div class=\"item\" v-for=\"(item, index) in subs\" :key=\"index\">\n        <img :src=\"item.avatarUrl\" alt=\"\" @load=\"handleImgLoad\" />\n        <div class=\"nickname\">{{ item.nickname }}</div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { imgLoadMixin } from \"mixin/global/imgLoad\";\nexport default {\n  name: \"MusicListLive\",\n  mixins: [imgLoadMixin],\n  props: {\n    subs: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n  },\n  methods: {\n    handleImgLoad() {\n      if (this.imgCount == this.subs.length) this.$emit(\"refresh\");\n      this.imgCount++;\n    },\n  },\n};\n</script>\n<style scoped>\n.live {\n  width: 100%;\n}\n.live .content {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n}\n.content .item {\n  width: calc(10%);\n  font-size: 12px;\n  text-align: center;\n  padding: 15px 10px;\n}\n.item img {\n  width: 60%;\n  border-radius: 50%;\n}\n.nickname {\n  width: 100%;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 1;\n  overflow: hidden;\n}\n</style>","import mod from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListLive.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListLive.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MusicListLive.vue?vue&type=template&id=3d645552&scoped=true\"\nimport script from \"./MusicListLive.vue?vue&type=script&lang=js\"\nexport * from \"./MusicListLive.vue?vue&type=script&lang=js\"\nimport style0 from \"./MusicListLive.vue?vue&type=style&index=0&id=3d645552&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d645552\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- <scroll class=\"scroll\" ref=\"scroll\" :theme=\"getTheme\"> -->\n    <div :class=\"detailClass\">\n      <base-info :base-info=\"baseInfo\" @playMusic=\"playMusic\" />\n      <b-menu\n        :menu=\"list\"\n        :active-color=\"getActiveColor\"\n        @click=\"handleMenuClick\"\n      ></b-menu>\n      <div :class=\"program + 'detail-container'\">\n        <song-list\n          ref=\"songList\"\n          :music-list=\"musicList\"\n          :length=\"length\"\n          v-show=\"isShow == 'music'\"\n        />\n        <!-- 歌曲评论 -->\n        <div class=\"detail-container-recommend\" v-show=\"isShow == 'recommend'\">\n          <recommends\n          ref=\"recommend\"\n            :recommends=\"recommends\"\n            :id=\"id\"\n          />\n          <div class=\"recommend-bottom\">\n            <el-pagination\n              background\n              :current-page.sync=\"offset\"\n              :page-size.sync=\"limit\"\n              :page-count=\"50\"\n              @current-change=\"onPageChange\"\n            />\n          </div>\n        </div>\n        <music-list-live\n          :subs=\"subs\"\n          v-show=\"isShow == 'sub'\"\n        />\n      </div>\n    </div>\n  <!-- </scroll> -->\n</template>\n<script>\nimport {\n  _getMusicListDetail,\n  baseInfo,\n  _getSongsDetail,\n  songDetail,\n  _getRecommends,\n  _getSub,\n} from \"network/detail\";\n\nimport { theme } from \"mixin/global/theme.js\";\nimport { playMusic } from \"mixin/global/play-music\";\nimport BaseInfo from \"./childsComps/baseInfo\";\nimport SongList from \"common/song-list/song-list\";\nimport Recommends from \"./childsComps/Recommends\";\nimport MusicListLive from \"./childsComps/MusicListLive\";\nexport default {\n  name: \"MusicListDetail\",\n  /**Vue中最好别全大写 */\n  mixins: [theme, playMusic],\n  components: {BaseInfo, SongList, Recommends, MusicListLive },\n  computed: {\n    detailClass() {\n      return [\n        `${this.program + \"detail\"}`,\n        `${this.program + \"detail-\" + this.theme}`,\n      ];\n    },\n  },\n  data() {\n    return {\n      id: null,\n      limit: 30,\n      offset: 1, //分页\n      list: [],\n      baseInfo: {},\n      musicList: [],\n      isShow: \"music\", //控制显示歌单、评论、收藏者\n      recommends: null,\n      recommendsCount:0,//歌单评论数\n      subs: null,\n      length: null, //获取歌曲列表长度，用于刷新scroll\n    };\n  },\n  created() {\n    this.getDetailRequestDate();\n  },\n  methods: {\n    /**处理分页点击 */\n    onPageChange() {\n      this.getRecommends();\n      // 点击评论下一页后自动滚到评论顶部\n      this.$nextTick(()=>{\n        let posY=this.$refs.recommend.$el.offsetTop;\n        this.$refs.scroll.scrollTo(posY,0);\n        this.handleRefresh();\n      })\n    },\n    /**musiclist数据加载完刷新scroll */\n    // handleRefresh() {\n    //   this.$refs.scroll.refresh();\n    // },\n    /**根据导航切换 */\n    handleMenuClick(index) {\n      switch (index) {\n        case 0:\n          this.isShow = \"music\";\n          break;\n        case 1:\n          this.isShow = \"recommend\";\n          break;\n        case 2:\n          this.isShow = \"sub\";\n      }\n    },\n    init() {\n      this.limit = 20;\n      this.list = [];\n      this.baseInfo = {};\n      this.musicList = [];\n      this.isShow = \"music\"; //控制显示歌单、评论、收藏者\n      this.recommends = null;\n      this.subs = null;\n    },\n    /**获取歌单详情网络数据 */\n    async getDetailRequestDate() {\n      this.id = this.$route.params.id;\n      if (!this.id) return;\n\n      this.init();\n      const res = await _getMusicListDetail(this.id);\n      /**保存歌单基础信息 */\n\n      this.baseInfo = new baseInfo(res.data && res.data.playlist);\n      /**获取歌单评论数 */\n      this.recommendsCount=res.data.playlist.commentCount ;\n      let str = \"评论(\" + this.recommendsCount + \")\";\n      this.list = [\"歌曲列表\", str, \"收藏者\"];\n\n      /**遍历查询歌单所有歌曲详情 */\n      const trackIds = res.data.playlist.trackIds;\n      /**获取歌曲列表长度 */\n      this.length = trackIds.length;\n      for (let i = 0, length = trackIds.length; i < length; i++) {\n        _getSongsDetail(trackIds[i].id).then((res) => {\n          let song = new songDetail(res.data.songs);\n          this.musicList.push(song);\n        });\n      }\n      /**获取歌单评论 */\n      this.getRecommends();\n\n      /**获取歌单收藏者 */\n      _getSub(this.id, 30).then((res) => {\n        this.subs = res.data.subscribers;\n      });\n    },\n    /**获取歌单评论 */\n    getRecommends() {\n      _getRecommends(this.id, this.limit, this.offset).then((res) => {\n        this.recommends = res.data.comments;\n      });\n    },\n  },\n  watch: {\n    /**监听导航变化重新发送请求 */\n    $route() {\n      if (this.$route.path.indexOf(\"musiclistdetail\") > 0) {\n        this.getDetailRequestDate();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.dance-music-detail {\n  height: 100%;\n  padding: 10px 30px 0px 30px;\n  &-container {\n    padding-top: 10px;\n    border-top: 1px solid var(--border);\n  }\n}\n.detail-container-recommend{\n  .recommend-bottom{\n    text-align: center;\n  }\n}\n</style>","import mod from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/.store/thread-loader@2.1.3/node_modules/thread-loader/dist/cjs.js!../../../node_modules/.store/babel-loader@8.4.1/node_modules/babel-loader/lib/index.js!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./MusicListDetail.vue?vue&type=template&id=76711872&scoped=true\"\nimport script from \"./MusicListDetail.vue?vue&type=script&lang=js\"\nexport * from \"./MusicListDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./MusicListDetail.vue?vue&type=style&index=0&id=76711872&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"76711872\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/.store/less-loader@7.3.0/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./baseInfo.vue?vue&type=style&index=0&id=bd0e3784&prod&lang=less&scoped=true\"","export * from \"-!../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/.store/less-loader@7.3.0/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListDetail.vue?vue&type=style&index=0&id=76711872&prod&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/.store/mini-css-extract-plugin@0.9.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicListLive.vue?vue&type=style&index=0&id=3d645552&prod&scoped=true&lang=css\""],"sourceRoot":""}